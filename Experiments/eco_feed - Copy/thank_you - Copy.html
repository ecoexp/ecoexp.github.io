<!DOCTYPE html>
<html>
<head>
	<title>Dino Game</title>
	<style>
		#game-container {
			position: relative;
			width: 600px;
			height: 150px;
			border: 1px solid black;
			margin: 50px auto;
			background-color: white;
		}

		#dino {
			position: absolute;
			bottom: 0;
			left: 0;
			width: 50px;
			height: 50px;
			background-image: url('dino.png');
			background-size: cover;
			animation: run 0.8s steps(10) infinite;
		}

		#cactus {
			position: absolute;
			bottom: 0;
			right: 0;
			width: 50px;
			height: 50px;
			background-image: url('cactus.png');
			background-size: cover;
			animation: move-cactus 3s linear infinite;
		}

		@keyframes run {
			from {background-position: 0px;}
			to {background-position: -500px;}
		}

		@keyframes move-cactus {
			from {right: 0;}
			to {right: 600px;}
		}
		
		#score {
			position: absolute;
			top: 10px;
			right: 10px;
			font-size: 24px;
		}

		#game-over {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			font-size: 48px;
			display: none;
		}

		#restart-button {
			display: none;
			margin-top: 20px;
			padding: 10px 20px;
			background-color: #4CAF50;
			color: white;
			border: none;
			border-radius: 4px;
			cursor: pointer;
		}
	</style>
</head>
<body>
	<div id="game-container">
		<div id="dino"></div>
		<div id="cactus"></div>
	</div>
	<div id="score">Score: 0</div>
	<div id="game-over">Game Over!</div>
	<button id="restart-button">Restart</button>

	<script>
		let score = 0;
		let speed = 3;
		let numObstacles = 1;
		let gameStarted = false;
		let gameOver = false;
		const gameContainer = document.getElementById('game-container');
		const scoreElement = document.getElementById('score');
		const gameOverElement = document.getElementById('game-over');
		const restartButton = document.getElementById('restart-button');
		const dino = document.getElementById('dino');
		const cactus = document.getElementById('cactus');

		function updateScore() {
			score++;
			scoreElement.innerText = 'Score: ' + score;
		}

		function gameOverHandler() {
			gameOver = true;
			gameStarted = false;
			clearInterval(gameLoop);
			gameOverElement.style.display = 'block';
			restartButton.style.display = 'block';
		}

		function restartGame() {
			score = 0;
			speed = 3;
			numObstacles = 1;
			gameOver = false;
		gameOverElement.style.display = 'none';
		restartButton.style.display = 'none';
		dino.style.bottom = 0;
		cactus.style.right = 0;
		gameLoop = setInterval(runGame, 10);
	}

	function checkCollision() {
		const dinoRect = dino.getBoundingClientRect();
		const cactusRect = cactus.getBoundingClientRect();
		if (dinoRect.bottom > cactusRect.top && 
			dinoRect.right > cactusRect.left &&
			dinoRect.left < cactusRect.right) {
			gameOverHandler();
		}
	}

	function runGame() {
		if (!gameStarted) {
			gameStarted = true;
			gameLoop = setInterval(runGame, 10);
			return;
		}

		if (gameOver) {
			return;
		}

		updateScore();
		checkCollision();

		if (score % 20 === 0) {
			speed++;
		}

		if (score % 50 === 0) {
			numObstacles++;
		}

		const obstacleSpacing = Math.floor(gameContainer.clientWidth / numObstacles);
		const obstaclePosition = obstacleSpacing - cactus.clientWidth;

		cactus.style.right = parseInt(cactus.style.right) + speed + 'px';

		if (parseInt(cactus.style.right) >= gameContainer.clientWidth) {
			cactus.style.right = obstaclePosition + 'px';
		}

		dino.style.bottom = parseInt(dino.style.bottom) + dinoJumpValue + 'px';

		if (parseInt(dino.style.bottom) <= 0) {
			dinoJumpValue = 5;
		}

		dinoJumpValue -= 0.1;
	}

	document.addEventListener('keydown', function(event) {
		if (event.keyCode === 32 && !gameOver) {
			dinoJumpValue = 5;
		}
	});

	restartButton.addEventListener('click', function() {
		restartGame();
	});

	let dinoJumpValue = 0;
	let gameLoop = setInterval(runGame, 10);
</script>
</body>
</html>
