
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Experiment</title>
    <link rel="stylesheet" href="exp_2/style.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
    .checked {
    color: orange;
    }
    </style>

    
</head>
<body>
    <div class="factor_q" style="top: 6%;left: 8%;background-color: rgb(134, 9, 132);" hidden>
        <div class="factor_txt" hidden>Participant ID: </div>
        <div class="factor_value" style="width: 120px;" hidden><span id="id1">ID</span></div>
    </div>
    <div class="start_btn"style="top: 10%;left: 90%;"><button>Instructions</button></div>
    <div class="start_btn"style="top: 10%;left: 92%;" onclick="stop_exp();" hidden><button style="background: rgb(232, 75, 36);">STOP</button></div>
    <!--button style="position: absolute;top: 5%;left: 92%;outline: none;border: none;height: 40px;cursor: pointer;" id="close_id">
        <img src="stop.jpg" alt="close" width="60" -->
    </button>
    <div id="progress">
        <div id="progress-bar"></div>
        <ul id="progress-num">
          <li class="step">1</li>
          <li class="step">2</li>
          <li class="step">3</li>
          <li class="step">4</li>
          <li class="step">5</li>
          <li class="step">6</li>
          <li class="step">7</li>
          <li class="step">8</li>
          <li class="step">9</li>
          <li class="step">10</li>
        </ul>
      </div>
      <script>
        const progressBar = document.getElementById("progress-bar");
          const steps = document.querySelectorAll(".step");
          let active = 0;
          function progr(u){
            if(true){
                active++;
            }
            if (active > steps.length) {
              active = steps.length;
            }
            updateProgress(u); 
          }
        
          const updateProgress = (g) => {
            steps.forEach((step, i) => {
              if (i < active) {
                    step.classList.add("active");              
                
              } else {
                step.classList.remove("active");
              }

            });


          };
          </script>
    <!--div class="tree" style="top: 50%;left: 40%;"><img src="bgd.png" alt="Snow" style=" height: 650px; width: 1100px;"></div-->

    <!--div class="factor" style="top: 19%;left: 9.5%;">
        <div class="factor_txt">Money Spend: </div>
        <div class="factor_value">€ <span id="pr1">0</span> / 27</div>
    </div-->
    <div class="text_head" style="top: 25%; right: 1%;height: 220px;"> <br> <strong>Performance</strong>
        <div class="factor" style="top: 80px;left: 10px;">
            <div class="factor_txt">Money Spend: </div>
            <div class="factor_value">€ <span id="pr1">0</span> / <span id="bg1">27</span></div>
        </div>
        <div class="factor" id="budg" style="top: 140px;left: 10px;">
            <div class="factor_txt">Fruits within budget: </div>
            <div class="factor_value"> <span id="fb1">0</span> / 10</div>
        </div>
        <!--div class="factor" style="top: 200px;left: 10px;" >
            <div class="factor_txt">Total Eco-Impact: </div>
            <div class="factor_value"> <span >0</span> / 100</div>
        </div>

        <div class="factor" style="top: 260px;left: 10px;height: 170px;" >
            <div class="factor_txt">Eco-Feedback: </div>
            <div class="factor_value"style="height: 150px;width:120px;background: white; "> <div class="tree"style="top: 80px;left: 232px;"><img src="images/tree_1.gif" alt="Apple_Image" width="50" ></div></div>
        </div-->
    </div> 
   
    
    
    <div class="apple" style="top: 35%;left: 15%;"><button onclick="myFunction(0);">
        <div class="img_pos"><img src="images/apple.jpg" alt="Apple_Image" width="60" ></div>
        <div class="txt_pos">Apple<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 2.49</strong></div> 
        </button></div>
    <div class="orange" style="top: 35%;left: 32%;"><button onclick="myFunction(1);">
        <div class="img_pos"><img src="images/orange.jpg" alt="Orange_Image" width="70" ></div>
        <div class="txt_pos">Orange<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 1.12</strong></div> 
    </button></div>
    <div class="broccoli" style="top: 35%;left: 49%;"><button onclick="myFunction(2);">
        <div class="img_pos"><img src="images/broccoli.jpg" alt="pear_Image" width="70" ></div>
        <div class="txt_pos">Broccoli<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 2.89</strong></div> 
    </button></div>
    <div class="banana" style="top: 35%;left: 66%;"><button onclick="myFunction(3);">
        <div class="img_pos"><img src="images/banana.jpg" alt="Banana_Image" width="60" ></div>
        <div class="txt_pos">Banana<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 2.10</strong></div> 
    </button></div>
    <div class="carrot" style="top: 58%;left: 15%;"><button onclick="myFunction(4);">
        <div class="img_pos"><img src="images/carrot.jpg" alt="Raspberry_Image" width="90" ></div>
        <div class="txt_pos">Carrot<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 1.39</strong></div> 
    </button></div>
    <div class="peach" style="top: 58%;left: 32%;"><button onclick="myFunction(5);">
        <div class="img_pos"><img src="images/peach.jpg" alt="Peach_Image" width="70" ></div>
        <div class="txt_pos">Peach<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 3.19</strong></div> 
    </button></div>
    <div class="potato" style="top: 58%;left: 49%;"><button onclick="myFunction(6);">
        <div class="img_pos"><img src="images/potato.jpg" alt="Potato_Image" width="80" ></div>
        <div class="txt_pos">Potato<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 1.59</strong></div> 
    </button></div>
    <div class="tomato" style="top: 58%;left: 66%;"><button onclick="myFunction(7);">
        <div class="img_pos"><img src="images/tomato.jpg" alt="Kiwi_Image" width="70" ></div>
        <div class="txt_pos">Tomato<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 2.78</strong></div> 
    </button></div>
    <div class="lettuce" style="top: 80%;left: 32%;"><button onclick="myFunction(8);">
        <div class="img_pos"><img src="images/lettuce.jpg" alt="Watermelon_Image" width="70" ></div>
        <div class="txt_pos">Lettuce<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 2.19</strong></div>  
    </button></div>
    <div class="strawberry" style="top: 80%;left: 49%;"><button onclick="myFunction(9);">
        <div class="img_pos"><img src="images/strawberry.jpg" alt="Strawberry_Image" width="70" ></div>
        <div class="txt_pos">Strawberry<br>(500g)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 3.64</strong></div> 
    </button></div>
    <script>

        const topleft =[[35,15],[35,32],[35,49],[35,66],[58,15],[58,32],[58,49],[58,66],[80,32],[80,49]];
        const fruits = ['apple', 'orange', 'broccoli', 'banana', 'carrot', 'peach', 'potato', 'tomato', 'lettuce', 'strawberry'];
        const indices = [...Array(topleft.length).keys()];

        // Shuffle the indices using a random number generator
        for (let i = indices.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [indices[i], indices[j]] = [indices[j], indices[i]];
        }

        // Store the shuffled order in a variable
        const shuffledOrder = indices;

        // Sort the original array
        const sortedArray = shuffledOrder.slice().sort();

        // Map the indices of the sorted values in the original array to a new array
        const indexArray = sortedArray.map((value) => shuffledOrder.indexOf(value));

        console.log(indexArray); // Output: [1, 3, 0, 8, 2, 4, 6, 7, 9, 5]
        const orderedFruits = [];

        for (let i = 0; i < indexArray.length; i++) {
        orderedFruits.push(fruits[indexArray[i]]);
        }

        console.log(orderedFruits);
        // Reorder the outer array based on the shuffled indices
        const shuffledArray = indices.map(i => topleft[i]);

        const divs = document.querySelectorAll('.apple, .orange, .broccoli, .banana, .carrot, .peach, .potato, .tomato, .lettuce, .strawberry');

        // Display the shuffled order
 
        var i = 0;
        divs.forEach(div => {
            const left = shuffledArray[i][1];
            const top = shuffledArray[i][0];
            div.style.left = left + '%';
            div.style.top = top + '%';
            i++;
        });

        </script>
    <!-- Info Box -->
    <div class="info_box">
        <div class="info-title"><span>The Rules of this Task</span></div>
        <div class="info-list">
            <div class="info" style="padding: 0 0 0 5px;">It is a sunny <span>Summar</span> day and you want to make a salad for a friend. Your friend is a convinced pro-environmental consumer and pays serious attention to the ecological footprint of her food.</div>
            <br>
            <div class="info">&emsp;1. Your receipt includes:  </div>
            <table>
                <tr>
                    <td>Apple</td>
                    <td>Orange</td>
                </tr>
                <tr>
                    <td>Broccoli</td>
                    <td>Banana</td>
                </tr>
                <tr>
                    <td>Carrot</td>
                    <td>Peach</td>
                </tr>
                <tr>
                    <td>Potato</td>
                    <td>Tomato</td>
                </tr>
                <tr>
                    <td>Lettuce</td>
                    <td>Strawberry</td>
                </tr>
            </table>
            <div class="info">&emsp;2. You have <span>20 Euros</span>. Buy the most <span class="tooltip">ecological product<span class="tooltiptext">Products that have the least damaging effect on the environment</span></span> you can within this budget. </div>
        </div>
        <div class="buttons">
            <button class="restart" hidden></button>
            <button class="quit">Okay</button>
        </div>
    </div>

    <!-- Quiz Box -->
    <div class="quiz_box">
        <header>
            <div class="title">Salad for your friend</div>
            <div class="timer" hidden>
                <div class="time_left_txt" hidden>Time Left</div>
                <div class="timer_sec" hidden>15</div>
            </div>
          
            <div class="money">
                <div class="money_left_txt">Money Left</div>
                <div class="money_left">€ <span id="ml1">27</span></div>
            </div>
            
            <button style="outline: none;border: none;height: 40px;cursor: pointer;" id="close_id"><img src="images/close.jpg" alt="close" width="60" ></button>
            <div class="time_line" hidden></div>
    
        </header>
        <section>
            <div class="que_text">
                <!-- Here I've inserted question from JavaScript -->
            </div>
            <div class="option_list">
                <!-- Here I've inserted options from JavaScript -->
            </div>
        </section>

        <!-- footer of Quiz Box -->
        <footer>
            <div class="total_que">
                <!-- Here I've inserted fruit Number from JavaScript -->
          
            </div>
            
            <div class="buttons"> 
                <button  class="cancel_btn" style="background-color: rgb(170, 11, 11);">Cancel</button>          
                <button  class="next_btn" >Buy Now</button>
                
            </div>
        </footer>
    </div>

    <!-- Result Box -->
    <div class="result_box">
        <div class="icon">
            <i class="fas fa-crown"></i>
        </div>
        <div class="complete_text">You have completed the first shopping task!</div>
        <div class="score_text">
            <!-- Here I've inserted Score Result from JavaScript -->
        </div>
        <div class="buttons">
            <button class="restart" hidden>Replay task</button>
            <button class="quit">Continue</button>
        </div>
    </div>
    <div  style="background-color: rgba(0,0,0,.5);width: 600px; "></div>
    <div class="alert_box">
        
        <div class="icon">
            <img src="images/alert.png" alt="close" width="150"  >
        </div>
        <div class="complete_text">&emsp;Your data won't be saved.<br>Do you really want to stop?</div>
        <div class="score_text">
            <!-- Here I've inserted Score Result from JavaScript -->
        </div>
        <div class="buttons">
            <button class="quit">No</button>
            <button class="restart">Yes</button>
            
        </div>
    </div>

    <!-- Inside this JavaScript file I've inserted Questions and Options only -->
    <script src="exp_2/js/questions.js"></script>
    <script src="exp_2/js/unique_id.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase-database.js"></script>
    <!-- Inside this JavaScript file I've coded all Quiz Codes -->
    <script src="js/script.js"></script>
    <script>
           
        function changeStyle(div_name){
            //console.log(div_name);
            var element = document.getElementsByClassName(div_name)
            element[0].style.visibility = 'hidden';
            //console.log(element[0]);
        }
        </script>

</body>
</html>