
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Experiment</title>
    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
    .checked {
    color: orange;
    }
    </style>

    
</head>
<body>
    <div class="factor_q" style="top: 10px;left: 8%;background-color: rgb(134, 9, 132);" hidden>
        <div class="factor_txt" hidden>Participant ID: </div>
        <div class="factor_value" style="width: 120px;" hidden><span id="id1">ID</span></div>
    </div>
    <div class="start_btn"style="top: 75px;left: 155px;"><button>Instructions</button></div>
  
    <!--button style="position: absolute;top: 5%;left: 92%;outline: none;border: none;height: 40px;cursor: pointer;" id="close_id">
        <img src="stop.jpg" alt="close" width="60" -->
    </button>
    <div id="progress" hidden>
        <div id="progress-bar"></div>
        <ul id="progress-num">
          <li class="step">1</li>
          <li class="step">2</li>
          <li class="step">3</li>
          <li class="step">4</li>
          <li class="step">5</li>
          <li class="step">6</li>
          <li class="step">7</li>
          <li class="step">8</li>
          <li class="step">9</li>
          <li class="step">10</li>
        </ul>
      </div>
      <script>
        const progressBar = document.getElementById("progress-bar");
          const steps = document.querySelectorAll(".step");
          let active = 0;
          function progr(u){
            if(true){
                active++;
            }
            if (active > steps.length) {
              active = steps.length;
            }
            updateProgress(u); 
          }
        
          const updateProgress = (g) => {
            steps.forEach((step, i) => {
              if (i < active) {
                    step.classList.add("active");              
                
              } else {
                step.classList.remove("active");
              }

            });


          };
          </script>
    <!--div class="tree" style="top: 50%;left: 40%;"><img src="bgd.png" alt="Snow" style=" height: 650px; width: 1100px;"></div-->

    <!--div class="factor" style="top: 19%;left: 9.5%;">
        <div class="factor_txt">Money Spend: </div>
        <div class="factor_value">€ <span id="pr1">0</span> / 27</div>
    </div-->
    <div class="text_head" id="cart" style="top: 50px; right: 20px; height: 120px;">
        <br> <strong>Your Cart</strong>
        <div class="factorghj" style="top: 200px; left: 10px;" hidden>
            <div class="factor_txt" hidden>Money Spend: </div>
            <div class="factor_value" hidden>€ <span id="pr1">0</span> / <span id="bg1">27</span></div>
        </div>
    
        <table id="fruit-table">
            <thead>
                <tr style="color: black;">
                    <th>No.</th>
                    <th>Item</th>
                    <th>Origin</th>
                    <th>Cost</th>
                </tr>
            </thead>
            <tbody id="fruit-table-body">
                <!-- Table rows will be added here dynamically -->
            </tbody>
        </table>
        <div class="final" style="right: 0%;" id="final_c" ><button  onclick="stop_exp();" >CHECKOUT</button></div>

     
        <!--div class="factor" id="budg" style="top: 140px;left: 10px;">
            <div class="factor_txt">Fruits within budget: </div>
            <div class="factor_value"> <span id="fb1">0</span> / 10</div>
        </div-->
        <!--div class="factor" style="top: 200px;left: 10px;" >
            <div class="factor_txt">Total Eco-Impact: </div>
            <div class="factor_value"> <span >0</span> / 100</div>
        </div>

        <div class="factor" style="top: 260px;left: 10px;height: 170px;" >
            <div class="factor_txt">Eco-Feedback: </div>
            <div class="factor_value"style="height: 150px;width:120px;background: white; "> <div class="tree"style="top: 80px;left: 232px;"><img src="images/tree_1.gif" alt="Apple_Image" width="50" ></div></div>
        </div-->
    </div> 

    

    
   
    
    
    <div class="apples" style="top: 35%;left: 15%;"><button onclick="myFunction(0);">
        <div class="tick_pos" hidden><img src="images/tick.png" alt="Apple_Image" width="20" ></div>
        <div class="img_pos" ><img src="images/apples.jpg" alt="Apple_Image" width="60" ></div>
        <div class="txt_pos">Apple<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 2.49</strong></div> 
        </button></div>
    <div class="oranges" style="top: 35%;left: 32%;"><button onclick="myFunction(1);">
        <div class="tick_pos" hidden><img src="images/tick.png" alt="Apple_Image" width="20" ></div>
        <div class="img_pos"><img src="images/oranges.jpg" alt="Orange_Image" width="70" ></div>
        <div class="txt_pos">Orange<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 1.12</strong></div> 
    </button></div>
    <div class="broccoli" style="top: 35%;left: 49%;"><button onclick="myFunction(7);">
        <div class="tick_pos" hidden><img src="images/tick.png" alt="Apple_Image" width="20" ></div>
        <div class="img_pos"><img src="images/broccoli.jpg" alt="pear_Image" width="70" ></div>
        <div class="txt_pos">Broccoli<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 2.89</strong></div> 
    </button></div>
    <div class="bananas" style="top: 35%;left: 66%;"><button onclick="myFunction(2);">
        <div class="tick_pos" hidden><img src="images/tick.png" alt="Apple_Image" width="20" ></div>
        <div class="img_pos"><img src="images/bananas.jpg" alt="Banana_Image" width="60" ></div>
        <div class="txt_pos">Banana<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 2.10</strong></div> 
    </button></div>
    <div class="carrots" style="top: 58%;left: 15%;"><button onclick="myFunction(6);">
        <div class="tick_pos" hidden><img src="images/tick.png" alt="Apple_Image" width="20" ></div>
        <div class="img_pos"><img src="images/carrots.jpg" alt="Raspberry_Image" width="90" ></div>
        <div class="txt_pos">Carrot<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 1.20</strong></div> 
    </button></div>
    <div class="peaches" style="top: 58%;left: 32%;"><button onclick="myFunction(3);">
        <div class="tick_pos" hidden><img src="images/tick.png" alt="Apple_Image" width="20" ></div>
        <div class="img_pos"><img src="images/peaches.jpg" alt="Peach_Image" width="70" ></div>
        <div class="txt_pos">Peach<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 3.19</strong></div> 
    </button></div>
    <div class="potatoes" style="top: 58%;left: 49%;"><button onclick="myFunction(8);">
        <div class="tick_pos" hidden><img src="images/tick.png" alt="Apple_Image" width="20" ></div>
        <div class="img_pos"><img src="images/potatoes.jpg" alt="Potato_Image" width="80" ></div>
        <div class="txt_pos">Potato<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 1.29</strong></div> 
    </button></div>
    <div class="tomatoes" style="top: 58%;left: 66%;"><button onclick="myFunction(4);">
        <div class="tick_pos" hidden><img src="images/tick.png" alt="Apple_Image" width="20" ></div>
        <div class="img_pos"><img src="images/tomatoes.jpg" alt="Kiwi_Image" width="70" ></div>
        <div class="txt_pos">Tomato<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 2.78</strong></div> 
    </button></div>
    <div class="lettuce" style="top: 80%;left: 32%;"><button onclick="myFunction(9);">
        <div class="tick_pos" hidden><img src="images/tick.png" alt="Apple_Image" width="20" ></div>
        <div class="img_pos"><img src="images/lettuce.jpg" alt="Watermelon_Image" width="70" ></div>
        <div class="txt_pos">Lettuce<br>(1kg)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 2.19</strong></div>  
    </button></div>
    <div class="strawberries" style="top: 80%;left: 49%;"><button onclick="myFunction(5);">
        <div class="tick_pos" hidden><img src="images/tick.png" alt="Apple_Image" width="20" ></div>
        <div class="img_pos"><img src="images/strawberries.jpg" alt="Strawberry_Image" width="70" ></div>
        <div class="txt_pos">Strawberry<br>(500g)</div>
        <div class="cost_var" style="bottom: 2px; right: 2px;"> Starting from <strong>€ 3.65</strong></div> 
    </button></div>
    <script>

        const topleft =[[35,15],[35,32],[35,49],[35,66],[58,15],[58,32],[58,49],[58,66],[80,32],[80,49]];
        for (var i = 0; i < topleft.length; i++) {
            topleft[i][0] += -5;
            topleft[i][1] += -5;
        }
        const fruits = ['apples', 'oranges', 'broccoli', 'bananas', 'carrots', 'peaches', 'potatoes', 'tomatoes', 'lettuce', 'strawberries'];
        const indices = [...Array(topleft.length).keys()];

        // Shuffle the indices using a random number generator
        for (let i = indices.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [indices[i], indices[j]] = [indices[j], indices[i]];
        }

        // Store the shuffled order in a variable
        const shuffledOrder = indices;

        // Sort the original array
        const sortedArray = shuffledOrder.slice().sort();

        // Map the indices of the sorted values in the original array to a new array
        const indexArray = sortedArray.map((value) => shuffledOrder.indexOf(value));

        console.log(indexArray); // Output: [1, 3, 0, 8, 2, 4, 6, 7, 9, 5]
        const orderedFruits = [];

        for (let i = 0; i < indexArray.length; i++) {
        orderedFruits.push(fruits[indexArray[i]]);
        }

        console.log(orderedFruits);
        // Reorder the outer array based on the shuffled indices
        const shuffledArray = indices.map(i => topleft[i]);

        const divs = document.querySelectorAll('.apples, .oranges, .broccoli, .bananas, .carrots, .peaches, .potatoes, .tomatoes, .lettuce, .strawberries');

        // Display the shuffled order
 
        var i = 0;
        divs.forEach(div => {
            const left = shuffledArray[i][1];
            const top = shuffledArray[i][0];
            div.style.left = left + '%';
            div.style.top = top + '%';
            i++;
        });

        </script>
    <!-- Info Box -->
    <div class="info_box">
        <div class="info-title"><span>Task Instructions</span></div>
        <div class="info-list">
            <div class="info" id="info_m" style="padding: 0 0 0 5px;" hidden>In this task, the system will recommend the most eco-friendly solution with a<span style=" color: #00680e;" > green border line</span>. All other instructions remain same as the previous task which is given below. </div>
            <br>
            <div class="info" style="padding: 0 0 0 5px;">It is a sunny <span>summer</span> day and you want to make a dish for a friend. Your friend is a convinced pro-environmental consumer and pays serious attention to the ecological footprint of food.</div>
            <br>
            <div class="info instruction">
                <div class="instruction-number">></div>
                <div class="instruction-text">Your shopping list includes the following 10 items:</div>
              </div>
              <table>
                <tr>
                  <td>Apple</td>
                  <td>Orange</td>
                </tr>
                <tr>
                  <td>Broccoli</td>
                  <td>Banana</td>
                </tr>
                <tr>
                  <td>Carrot</td>
                  <td>Peach</td>
                </tr>
                <tr>
                  <td>Potato</td>
                  <td>Tomato</td>
                </tr>
                <tr>
                  <td>Lettuce</td>
                  <td>Strawberry</td>
                </tr>
              </table>
              <div class="info instruction">
                <div class="instruction-number">></div>
                <div class="instruction-text">You have <span class="euros">24 Euros</span>. Buy the <span> products that have the least damaging effect on the environment</span> within this budget.</div>
              </div>
        </div>
        <div class="buttons">
            <button class="restart" hidden></button>
            <button class="quit">Okay</button>
        </div>
    </div>

    <!-- Quiz Box -->
    <div class="quiz_box">
        <header>
            <div class="title" hidden>Item List</div>
            <div class="timer" hidden>
                <div class="time_left_txt" hidden>Time Left</div>
                <div class="timer_sec" hidden>15</div>
            </div>
          
            <div class="money">
                <div class="money_left_txt" >Money Spend</div>
                <div class="money_left" >€ <span id="ml1">0</span> / <span id="bg">27</span></div>
            </div>
            
            <button style="outline: none;border: none;height: 40px;cursor: pointer;" id="close_id"><img src="images/close.jpg" alt="close" width="60" ></button>
            <div class="time_line" hidden></div>
    
        </header>
        <section>
            <div class="que_text">
                <!-- Here I've inserted question from JavaScript -->
            </div>
            <div class="option_list">
                <!-- Here I've inserted options from JavaScript -->
            </div>
        </section>
    

        <!-- footer of Quiz Box -->
        <footer>
            <div class="total_que" hidden>
                <!-- Here I've inserted fruit Number from JavaScript -->
          
            </div>
            
            <div class="buttons" > 
                <button  class="cancel_btn" style="background-color: rgb(170, 11, 11);">Cancel</button>          
                <button  class="next_btn" >Buy</button>
                
            </div>
        </footer>
    </div>

    <!-- Result Box -->
    <div class="result_box">
        <div class="icon">
            <center>ALERT</center> 
            <hr>
        </div>
        <div class="complete_text">You have selected all 10 fruits. </div>
        <div class="score_text">
            <!-- Here I've inserted Score Result from JavaScript -->
        </div>
        <div class="buttons">
            <button class="quit">Modify</button>
            <button class="restart" id="checkout" style="background-color: #00680e; color: white;" onclick="stop_exp();" hidden>CHECKOUT</button>
        </div>
    </div>

    <div class="alert_box">
        
        <div class="icon">
            <center>ALERT</center> 
            <hr>
        </div>
        <div class="complete_text" id="txt_check">&emsp;Do you really want to check out?<br><br> <b>Note: After confirming this, you will be directed to the second shopping task.</b> </div>
        <div class="score_text">
            <!-- Here I've inserted Score Result from JavaScript -->
        </div>
        <div class="buttons">
            <button class="quit" id="no_b">No</button>
            <button class="restart" id="yes_b" style="background-color: rgb(6, 145, 204); color: white;"> </button style="background-color: rgb(6, 145, 204); color: white;"></button>
            
        </div>
    </div>

    <!-- Inside this JavaScript file I've inserted Questions and Options only -->
    <script src="js/questions.js"></script>
    <script src="js/unique_id.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase-database.js"></script>
    <!-- Inside this JavaScript file I've coded all Quiz Codes -->
    <script src="js/script.js"></script>
    <script>
           
           function changeStyle(div_name, torigin, tcost, color){
            var element = document.getElementsByClassName(div_name);
            element[0].style.border = "5px solid " + color;
            var tick_div = element[0].querySelector(".tick_pos");
            tick_div.hidden = false;
            //var cost_div = element[0].querySelector(".cost_var");
            //cost_div.innerHTML= torigin  +", <strong>€ "+ tcost +"</strong>";

            
            }

        </script>

</body>
</html>